{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, isValidElement, useContext, useMemo, useState, useRef, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { controlBorderStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { TextInput } from '../TextInput';\nimport { SelectContainer } from './SelectContainer';\nvar SelectTextInput = styled(TextInput).withConfig({\n  displayName: \"Select__SelectTextInput\",\n  componentId: \"sc-17idtfo-0\"\n})([\"cursor:pointer;\"]);\nvar StyledSelectDropButton = styled(DropButton).withConfig({\n  displayName: \"Select__StyledSelectDropButton\",\n  componentId: \"sc-17idtfo-1\"\n})([\"\", \";\", \";\", \";\"], function (props) {\n  return !props.plain && controlBorderStyle;\n}, function (props) {\n  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;\n}, function (props) {\n  return props.open && props.theme.select.control.open;\n});\nStyledSelectDropButton.defaultProps = {};\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\nvar Select = forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      alignSelf = _ref.alignSelf,\n      children = _ref.children,\n      _ref$closeOnChange = _ref.closeOnChange,\n      closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n      disabled = _ref.disabled,\n      disabledKey = _ref.disabledKey,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? {\n    top: 'bottom',\n    left: 'left'\n  } : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropProps = _ref.dropProps,\n      dropTarget = _ref.dropTarget,\n      emptySearchMessage = _ref.emptySearchMessage,\n      focusIndicator = _ref.focusIndicator,\n      gridArea = _ref.gridArea,\n      id = _ref.id,\n      icon = _ref.icon,\n      labelKey = _ref.labelKey,\n      margin = _ref.margin,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === void 0 ? {\n    multiple: 'multiple'\n  } : _ref$messages,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      onClose = _ref.onClose,\n      onKeyDown = _ref.onKeyDown,\n      onMore = _ref.onMore,\n      onOpen = _ref.onOpen,\n      onSearch = _ref.onSearch,\n      propOpen = _ref.open,\n      options = _ref.options,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      replace = _ref.replace,\n      searchPlaceholder = _ref.searchPlaceholder,\n      selected = _ref.selected,\n      size = _ref.size,\n      valueProp = _ref.value,\n      valueKey = _ref.valueKey,\n      valueLabel = _ref.valueLabel,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"alignSelf\", \"children\", \"closeOnChange\", \"disabled\", \"disabledKey\", \"dropAlign\", \"dropHeight\", \"dropProps\", \"dropTarget\", \"emptySearchMessage\", \"focusIndicator\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"multiple\", \"name\", \"onChange\", \"onClose\", \"onKeyDown\", \"onMore\", \"onOpen\", \"onSearch\", \"open\", \"options\", \"placeholder\", \"plain\", \"replace\", \"searchPlaceholder\", \"selected\", \"size\", \"value\", \"valueKey\", \"valueLabel\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var inputRef = useRef();\n  var formContext = useContext(FormContext); // normalize the value prop to not be objects\n\n  var normalizedValueProp = useMemo(function () {\n    if (Array.isArray(valueProp)) {\n      if (valueProp.length === 0) return valueProp;\n\n      if (typeof valueProp[0] === 'object' && valueKey) {\n        return valueProp.map(function (v) {\n          return v[valueKey];\n        });\n      }\n\n      return valueProp;\n    }\n\n    if (typeof valueProp === 'object' && valueKey) return valueProp[valueKey];\n    return valueProp;\n  }, [valueKey, valueProp]);\n\n  var _formContext$useFormC = formContext.useFormContext(name, normalizedValueProp, ''),\n      value = _formContext$useFormC[0],\n      setValue = _formContext$useFormC[1]; // track which options are present in the value\n\n\n  var valueOptions = useMemo(function () {\n    return options.filter(function (option, index) {\n      if (selected !== undefined) {\n        if (Array.isArray(selected)) return selected.indexOf(index) !== -1;\n        return index === selected;\n      }\n\n      if (typeof option === 'object' && valueKey) {\n        if (Array.isArray(value)) {\n          return value.indexOf(option[valueKey]) !== -1;\n        }\n\n        return option[valueKey] === value;\n      }\n\n      if (Array.isArray(value)) {\n        return value.indexOf(option) !== -1;\n      }\n\n      return option === value;\n    });\n  }, [options, selected, value, valueKey]);\n\n  var _useState = useState(propOpen),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  useEffect(function () {\n    return setOpen(propOpen);\n  }, [propOpen]);\n\n  var onRequestOpen = function onRequestOpen() {\n    setOpen(true);\n    if (onOpen) onOpen();\n  };\n\n  var onRequestClose = function onRequestClose() {\n    setOpen(false);\n    if (onClose) onClose();\n  };\n\n  var onSelectChange = function onSelectChange(event, _ref2) {\n    var option = _ref2.option,\n        nextValue = _ref2.value,\n        nextSelected = _ref2.selected;\n    if (closeOnChange) onRequestClose();\n    setValue(nextValue);\n\n    if (onChange) {\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.target = inputRef.current;\n      adjustedEvent.value = nextValue;\n      adjustedEvent.option = option;\n      adjustedEvent.selected = nextSelected;\n      onChange(adjustedEvent);\n    }\n  };\n\n  var SelectIcon;\n\n  switch (icon) {\n    case false:\n      break;\n\n    case true:\n    case undefined:\n      SelectIcon = theme.select.icons.down;\n      break;\n\n    default:\n      SelectIcon = icon;\n  } // element to show, trumps inputValue\n\n\n  var selectValue = useMemo(function () {\n    if (valueLabel) return valueLabel;\n    if (React.isValidElement(value)) return value;\n    return undefined;\n  }, [value, valueLabel]); // text to show\n\n  var inputValue = useMemo(function () {\n    if (!selectValue) {\n      if (Array.isArray(valueOptions)) {\n        if (valueOptions.length === 0) return '';\n\n        if (valueOptions.length === 1) {\n          var valueOption = valueOptions[0];\n\n          if (typeof valueOption === 'object' && labelKey) {\n            if (typeof labelKey === 'function') {\n              return labelKey(valueOption);\n            }\n\n            return valueOption[labelKey];\n          }\n\n          return valueOption;\n        }\n\n        return messages.multiple;\n      }\n\n      if (typeof valueOptions === 'object' && labelKey) {\n        if (typeof labelKey === 'function') {\n          return labelKey(valueOptions);\n        }\n\n        return valueOptions[labelKey];\n      }\n\n      if (valueOptions !== undefined) return valueOptions;\n      return '';\n    }\n\n    return undefined;\n  }, [labelKey, messages, selectValue, valueOptions]); // const dark = theme.select.background\n  // ? colorIsDark(theme.select.background)\n  // : theme.dark;\n\n  var iconColor = normalizeColor(theme.select.icons.color || 'control', theme);\n  return React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, React.createElement(StyledSelectDropButton, {\n    ref: ref,\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    focusIndicator: focusIndicator,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    dropContent: React.createElement(SelectContainer, {\n      disabled: disabled,\n      disabledKey: disabledKey,\n      dropHeight: dropHeight,\n      emptySearchMessage: emptySearchMessage,\n      id: id,\n      labelKey: labelKey,\n      multiple: multiple,\n      name: name,\n      onChange: onSelectChange,\n      onKeyDown: onKeyDown,\n      onMore: onMore,\n      onSearch: onSearch,\n      options: options,\n      replace: replace,\n      searchPlaceholder: searchPlaceholder,\n      selected: selected,\n      value: value,\n      valueKey: valueKey\n    }, children),\n    plain: plain,\n    dropProps: dropProps,\n    theme: theme\n  }, React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || React.createElement(SelectTextInput, _extends({\n    a11yTitle: a11yTitle && \"\" + a11yTitle + (typeof value === 'string' ? \", \" + value : ''),\n    id: id ? id + \"__input\" : undefined,\n    name: name,\n    ref: inputRef\n  }, rest, {\n    tabIndex: \"-1\",\n    type: \"text\",\n    placeholder: placeholder,\n    plain: true,\n    readOnly: true,\n    value: inputValue,\n    size: size,\n    theme: theme,\n    onClick: disabled === true ? undefined : onRequestOpen\n  }))), SelectIcon && React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, isValidElement(SelectIcon) ? SelectIcon : React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n});\nSelect.defaultProps = _extends({}, defaultProps);\nSelect.displayName = 'Select';\nvar SelectDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  SelectDoc = require('./doc').doc(Select);\n}\n\nvar SelectWrapper = SelectDoc || Select;\nexport { SelectWrapper as Select };","map":{"version":3,"sources":["C:/app/compare-app/node_modules/grommet/es6/components/Select/Select.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","isValidElement","useContext","useMemo","useState","useRef","useEffect","styled","ThemeContext","controlBorderStyle","normalizeColor","defaultProps","Box","DropButton","Keyboard","FormContext","TextInput","SelectContainer","SelectTextInput","withConfig","displayName","componentId","StyledSelectDropButton","props","plain","theme","select","control","extend","open","setPrototypeOf","Select","_ref","ref","a11yTitle","alignSelf","children","_ref$closeOnChange","closeOnChange","disabled","disabledKey","_ref$dropAlign","dropAlign","top","left","dropHeight","dropProps","dropTarget","emptySearchMessage","focusIndicator","gridArea","id","icon","labelKey","margin","_ref$messages","messages","multiple","name","onChange","onClose","onKeyDown","onMore","onOpen","onSearch","propOpen","options","placeholder","replace","searchPlaceholder","selected","size","valueProp","value","valueKey","valueLabel","rest","inputRef","formContext","normalizedValueProp","Array","isArray","map","v","_formContext$useFormC","useFormContext","setValue","valueOptions","filter","option","index","undefined","_useState","setOpen","onRequestOpen","onRequestClose","onSelectChange","event","_ref2","nextValue","nextSelected","persist","adjustedEvent","current","SelectIcon","icons","down","selectValue","inputValue","valueOption","iconColor","color","createElement","onDown","onUp","dropContent","align","direction","justify","background","flex","basis","tabIndex","type","readOnly","onClick","style","minWidth","SelectDoc","process","env","NODE_ENV","require","doc","SelectWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, isValidElement, useContext, useMemo, useState, useRef, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { controlBorderStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { TextInput } from '../TextInput';\nimport { SelectContainer } from './SelectContainer';\nvar SelectTextInput = styled(TextInput).withConfig({\n  displayName: \"Select__SelectTextInput\",\n  componentId: \"sc-17idtfo-0\"\n})([\"cursor:pointer;\"]);\nvar StyledSelectDropButton = styled(DropButton).withConfig({\n  displayName: \"Select__StyledSelectDropButton\",\n  componentId: \"sc-17idtfo-1\"\n})([\"\", \";\", \";\", \";\"], function (props) {\n  return !props.plain && controlBorderStyle;\n}, function (props) {\n  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;\n}, function (props) {\n  return props.open && props.theme.select.control.open;\n});\nStyledSelectDropButton.defaultProps = {};\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\nvar Select = forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      alignSelf = _ref.alignSelf,\n      children = _ref.children,\n      _ref$closeOnChange = _ref.closeOnChange,\n      closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n      disabled = _ref.disabled,\n      disabledKey = _ref.disabledKey,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? {\n    top: 'bottom',\n    left: 'left'\n  } : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropProps = _ref.dropProps,\n      dropTarget = _ref.dropTarget,\n      emptySearchMessage = _ref.emptySearchMessage,\n      focusIndicator = _ref.focusIndicator,\n      gridArea = _ref.gridArea,\n      id = _ref.id,\n      icon = _ref.icon,\n      labelKey = _ref.labelKey,\n      margin = _ref.margin,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === void 0 ? {\n    multiple: 'multiple'\n  } : _ref$messages,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      onClose = _ref.onClose,\n      onKeyDown = _ref.onKeyDown,\n      onMore = _ref.onMore,\n      onOpen = _ref.onOpen,\n      onSearch = _ref.onSearch,\n      propOpen = _ref.open,\n      options = _ref.options,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      replace = _ref.replace,\n      searchPlaceholder = _ref.searchPlaceholder,\n      selected = _ref.selected,\n      size = _ref.size,\n      valueProp = _ref.value,\n      valueKey = _ref.valueKey,\n      valueLabel = _ref.valueLabel,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"alignSelf\", \"children\", \"closeOnChange\", \"disabled\", \"disabledKey\", \"dropAlign\", \"dropHeight\", \"dropProps\", \"dropTarget\", \"emptySearchMessage\", \"focusIndicator\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"multiple\", \"name\", \"onChange\", \"onClose\", \"onKeyDown\", \"onMore\", \"onOpen\", \"onSearch\", \"open\", \"options\", \"placeholder\", \"plain\", \"replace\", \"searchPlaceholder\", \"selected\", \"size\", \"value\", \"valueKey\", \"valueLabel\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var inputRef = useRef();\n  var formContext = useContext(FormContext); // normalize the value prop to not be objects\n\n  var normalizedValueProp = useMemo(function () {\n    if (Array.isArray(valueProp)) {\n      if (valueProp.length === 0) return valueProp;\n\n      if (typeof valueProp[0] === 'object' && valueKey) {\n        return valueProp.map(function (v) {\n          return v[valueKey];\n        });\n      }\n\n      return valueProp;\n    }\n\n    if (typeof valueProp === 'object' && valueKey) return valueProp[valueKey];\n    return valueProp;\n  }, [valueKey, valueProp]);\n\n  var _formContext$useFormC = formContext.useFormContext(name, normalizedValueProp, ''),\n      value = _formContext$useFormC[0],\n      setValue = _formContext$useFormC[1]; // track which options are present in the value\n\n\n  var valueOptions = useMemo(function () {\n    return options.filter(function (option, index) {\n      if (selected !== undefined) {\n        if (Array.isArray(selected)) return selected.indexOf(index) !== -1;\n        return index === selected;\n      }\n\n      if (typeof option === 'object' && valueKey) {\n        if (Array.isArray(value)) {\n          return value.indexOf(option[valueKey]) !== -1;\n        }\n\n        return option[valueKey] === value;\n      }\n\n      if (Array.isArray(value)) {\n        return value.indexOf(option) !== -1;\n      }\n\n      return option === value;\n    });\n  }, [options, selected, value, valueKey]);\n\n  var _useState = useState(propOpen),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  useEffect(function () {\n    return setOpen(propOpen);\n  }, [propOpen]);\n\n  var onRequestOpen = function onRequestOpen() {\n    setOpen(true);\n    if (onOpen) onOpen();\n  };\n\n  var onRequestClose = function onRequestClose() {\n    setOpen(false);\n    if (onClose) onClose();\n  };\n\n  var onSelectChange = function onSelectChange(event, _ref2) {\n    var option = _ref2.option,\n        nextValue = _ref2.value,\n        nextSelected = _ref2.selected;\n    if (closeOnChange) onRequestClose();\n    setValue(nextValue);\n\n    if (onChange) {\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.target = inputRef.current;\n      adjustedEvent.value = nextValue;\n      adjustedEvent.option = option;\n      adjustedEvent.selected = nextSelected;\n      onChange(adjustedEvent);\n    }\n  };\n\n  var SelectIcon;\n\n  switch (icon) {\n    case false:\n      break;\n\n    case true:\n    case undefined:\n      SelectIcon = theme.select.icons.down;\n      break;\n\n    default:\n      SelectIcon = icon;\n  } // element to show, trumps inputValue\n\n\n  var selectValue = useMemo(function () {\n    if (valueLabel) return valueLabel;\n    if (React.isValidElement(value)) return value;\n    return undefined;\n  }, [value, valueLabel]); // text to show\n\n  var inputValue = useMemo(function () {\n    if (!selectValue) {\n      if (Array.isArray(valueOptions)) {\n        if (valueOptions.length === 0) return '';\n\n        if (valueOptions.length === 1) {\n          var valueOption = valueOptions[0];\n\n          if (typeof valueOption === 'object' && labelKey) {\n            if (typeof labelKey === 'function') {\n              return labelKey(valueOption);\n            }\n\n            return valueOption[labelKey];\n          }\n\n          return valueOption;\n        }\n\n        return messages.multiple;\n      }\n\n      if (typeof valueOptions === 'object' && labelKey) {\n        if (typeof labelKey === 'function') {\n          return labelKey(valueOptions);\n        }\n\n        return valueOptions[labelKey];\n      }\n\n      if (valueOptions !== undefined) return valueOptions;\n      return '';\n    }\n\n    return undefined;\n  }, [labelKey, messages, selectValue, valueOptions]); // const dark = theme.select.background\n  // ? colorIsDark(theme.select.background)\n  // : theme.dark;\n\n  var iconColor = normalizeColor(theme.select.icons.color || 'control', theme);\n  return React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, React.createElement(StyledSelectDropButton, {\n    ref: ref,\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    focusIndicator: focusIndicator,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    dropContent: React.createElement(SelectContainer, {\n      disabled: disabled,\n      disabledKey: disabledKey,\n      dropHeight: dropHeight,\n      emptySearchMessage: emptySearchMessage,\n      id: id,\n      labelKey: labelKey,\n      multiple: multiple,\n      name: name,\n      onChange: onSelectChange,\n      onKeyDown: onKeyDown,\n      onMore: onMore,\n      onSearch: onSearch,\n      options: options,\n      replace: replace,\n      searchPlaceholder: searchPlaceholder,\n      selected: selected,\n      value: value,\n      valueKey: valueKey\n    }, children),\n    plain: plain,\n    dropProps: dropProps,\n    theme: theme\n  }, React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || React.createElement(SelectTextInput, _extends({\n    a11yTitle: a11yTitle && \"\" + a11yTitle + (typeof value === 'string' ? \", \" + value : ''),\n    id: id ? id + \"__input\" : undefined,\n    name: name,\n    ref: inputRef\n  }, rest, {\n    tabIndex: \"-1\",\n    type: \"text\",\n    placeholder: placeholder,\n    plain: true,\n    readOnly: true,\n    value: inputValue,\n    size: size,\n    theme: theme,\n    onClick: disabled === true ? undefined : onRequestOpen\n  }))), SelectIcon && React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, isValidElement(SelectIcon) ? SelectIcon : React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n});\nSelect.defaultProps = _extends({}, defaultProps);\nSelect.displayName = 'Select';\nvar SelectDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  SelectDoc = require('./doc').doc(Select);\n}\n\nvar SelectWrapper = SelectDoc || Select;\nexport { SelectWrapper as Select };"]},"metadata":{},"sourceType":"module"}