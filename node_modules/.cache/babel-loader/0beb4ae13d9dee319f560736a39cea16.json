{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { Children, useContext, useEffect, useState, useRef } from 'react';\nimport { normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { Stack } from '../Stack';\n\nvar Carousel = function Carousel(_ref) {\n  var initialChild = _ref.initialChild,\n      play = _ref.play,\n      children = _ref.children,\n      controls = _ref.controls,\n      fill = _ref.fill,\n      _onFocus = _ref.onFocus,\n      _onBlur = _ref.onBlur,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"initialChild\", \"play\", \"children\", \"controls\", \"fill\", \"onFocus\", \"onBlur\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var timerRef = useRef();\n\n  var _useState2 = useState({\n    activeIndex: initialChild\n  }),\n      indexes = _useState2[0],\n      setIndexes = _useState2[1];\n\n  var activeIndex = indexes.activeIndex,\n      priorActiveIndex = indexes.priorActiveIndex;\n  var lastIndex = Children.count(children) - 1;\n  useEffect(function () {\n    if (play) {\n      var timer = setInterval(function () {\n        if (activeIndex < lastIndex) {\n          setIndexes({\n            activeIndex: activeIndex + 1,\n            priorActiveIndex: activeIndex\n          });\n        } else {\n          setIndexes({\n            activeIndex: 0,\n            priorActiveIndex: activeIndex\n          });\n        }\n      }, play);\n      timerRef.current = timer;\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n\n    return function () {};\n  }, [activeIndex, play, children, lastIndex]);\n\n  var onRight = function onRight() {\n    if (activeIndex >= lastIndex) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex + 1,\n      priorActiveIndex: activeIndex\n    });\n  };\n\n  var onLeft = function onLeft() {\n    if (activeIndex <= 0) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex - 1,\n      priorActiveIndex: activeIndex\n    });\n  };\n\n  var onSelect = function onSelect(index) {\n    return function () {\n      clearInterval(timerRef.current);\n      setIndexes({\n        activeIndex: index,\n        priorActiveIndex: activeIndex\n      });\n    };\n  };\n\n  var showArrows = controls && controls !== 'selectors';\n  var showSelectors = controls && controls !== 'arrows';\n  var CurrentIcon = theme.carousel.icons.current;\n  var iconColor = normalizeColor(theme.carousel.icons.color || 'control', theme);\n  var selectors = [];\n  var wrappedChildren = Children.map(children, function (child, index) {\n    selectors.push(React.createElement(Button // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: index,\n      icon: React.createElement(CurrentIcon, {\n        color: activeIndex === index ? iconColor : undefined\n      }),\n      onClick: onSelect(index)\n    }));\n    var animation;\n\n    if (index === activeIndex) {\n      if (priorActiveIndex !== undefined) {\n        animation = {\n          type: priorActiveIndex < activeIndex ? 'slideLeft' : 'slideRight',\n          size: 'xlarge',\n          duration: theme.carousel.animation.duration\n        };\n      }\n    } else if (index === priorActiveIndex) {\n      animation = {\n        type: 'fadeOut',\n        duration: theme.carousel.animation.duration\n      };\n    } else {\n      animation = {\n        type: 'fadeOut',\n        duration: 0\n      };\n    }\n\n    return React.createElement(Box, {\n      fill: fill,\n      overflow: \"hidden\"\n    }, React.createElement(Box, {\n      fill: fill,\n      animation: animation\n    }, child));\n  });\n  var NextIcon = theme.carousel.icons.next;\n  var PreviousIcon = theme.carousel.icons.previous;\n  var nextIconDisabled = activeIndex >= lastIndex;\n  var previousIconDisabled = activeIndex <= 0;\n  return React.createElement(Keyboard, {\n    onLeft: onLeft,\n    onRight: onRight\n  }, React.createElement(Stack, _extends({\n    guidingChild: activeIndex,\n    fill: fill\n  }, rest), wrappedChildren, React.createElement(Box, {\n    tabIndex: \"0\",\n    focus: focus,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (_onBlur) _onBlur(event);\n    },\n    fill: true,\n    direction: \"row\",\n    justify: \"between\"\n  }, showArrows && React.createElement(Button, {\n    fill: \"vertical\",\n    icon: React.createElement(PreviousIcon, {\n      color: normalizeColor(previousIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: previousIconDisabled,\n    onClick: onLeft,\n    hoverIndicator: true\n  }), showSelectors && React.createElement(Box, {\n    justify: \"end\",\n    fill: !showArrows && 'horizontal'\n  }, React.createElement(Box, {\n    direction: \"row\",\n    justify: \"center\"\n  }, selectors)), showArrows && React.createElement(Button, {\n    fill: \"vertical\",\n    icon: React.createElement(NextIcon, {\n      color: normalizeColor(nextIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: nextIconDisabled,\n    onClick: onRight,\n    hoverIndicator: true\n  }))));\n};\n\nCarousel.defaultProps = {\n  initialChild: 0,\n  controls: true\n};\nObject.setPrototypeOf(Carousel.defaultProps, defaultProps);\nCarousel.displayName = 'Carousel';\nvar CarouselDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CarouselDoc = require('./doc').doc(Carousel);\n}\n\nvar CarouselWrapper = CarouselDoc || Carousel;\nexport { CarouselWrapper as Carousel };","map":{"version":3,"sources":["C:/compare-app/node_modules/grommet/es6/components/Carousel/Carousel.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","Children","useContext","useEffect","useState","useRef","normalizeColor","defaultProps","ThemeContext","Box","Button","Keyboard","Stack","Carousel","_ref","initialChild","play","children","controls","fill","_onFocus","onFocus","_onBlur","onBlur","rest","theme","_useState","focus","setFocus","timerRef","_useState2","activeIndex","indexes","setIndexes","priorActiveIndex","lastIndex","count","timer","setInterval","current","clearTimeout","onRight","clearInterval","onLeft","onSelect","index","showArrows","showSelectors","CurrentIcon","carousel","icons","iconColor","color","selectors","wrappedChildren","map","child","push","createElement","icon","undefined","onClick","animation","type","size","duration","overflow","NextIcon","next","PreviousIcon","previous","nextIconDisabled","previousIconDisabled","guidingChild","tabIndex","event","direction","justify","disabled","plain","hoverIndicator","setPrototypeOf","displayName","CarouselDoc","process","env","NODE_ENV","require","doc","CarouselWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { Children, useContext, useEffect, useState, useRef } from 'react';\nimport { normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { Stack } from '../Stack';\n\nvar Carousel = function Carousel(_ref) {\n  var initialChild = _ref.initialChild,\n      play = _ref.play,\n      children = _ref.children,\n      controls = _ref.controls,\n      fill = _ref.fill,\n      _onFocus = _ref.onFocus,\n      _onBlur = _ref.onBlur,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"initialChild\", \"play\", \"children\", \"controls\", \"fill\", \"onFocus\", \"onBlur\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var timerRef = useRef();\n\n  var _useState2 = useState({\n    activeIndex: initialChild\n  }),\n      indexes = _useState2[0],\n      setIndexes = _useState2[1];\n\n  var activeIndex = indexes.activeIndex,\n      priorActiveIndex = indexes.priorActiveIndex;\n  var lastIndex = Children.count(children) - 1;\n  useEffect(function () {\n    if (play) {\n      var timer = setInterval(function () {\n        if (activeIndex < lastIndex) {\n          setIndexes({\n            activeIndex: activeIndex + 1,\n            priorActiveIndex: activeIndex\n          });\n        } else {\n          setIndexes({\n            activeIndex: 0,\n            priorActiveIndex: activeIndex\n          });\n        }\n      }, play);\n      timerRef.current = timer;\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n\n    return function () {};\n  }, [activeIndex, play, children, lastIndex]);\n\n  var onRight = function onRight() {\n    if (activeIndex >= lastIndex) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex + 1,\n      priorActiveIndex: activeIndex\n    });\n  };\n\n  var onLeft = function onLeft() {\n    if (activeIndex <= 0) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex - 1,\n      priorActiveIndex: activeIndex\n    });\n  };\n\n  var onSelect = function onSelect(index) {\n    return function () {\n      clearInterval(timerRef.current);\n      setIndexes({\n        activeIndex: index,\n        priorActiveIndex: activeIndex\n      });\n    };\n  };\n\n  var showArrows = controls && controls !== 'selectors';\n  var showSelectors = controls && controls !== 'arrows';\n  var CurrentIcon = theme.carousel.icons.current;\n  var iconColor = normalizeColor(theme.carousel.icons.color || 'control', theme);\n  var selectors = [];\n  var wrappedChildren = Children.map(children, function (child, index) {\n    selectors.push(React.createElement(Button // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: index,\n      icon: React.createElement(CurrentIcon, {\n        color: activeIndex === index ? iconColor : undefined\n      }),\n      onClick: onSelect(index)\n    }));\n    var animation;\n\n    if (index === activeIndex) {\n      if (priorActiveIndex !== undefined) {\n        animation = {\n          type: priorActiveIndex < activeIndex ? 'slideLeft' : 'slideRight',\n          size: 'xlarge',\n          duration: theme.carousel.animation.duration\n        };\n      }\n    } else if (index === priorActiveIndex) {\n      animation = {\n        type: 'fadeOut',\n        duration: theme.carousel.animation.duration\n      };\n    } else {\n      animation = {\n        type: 'fadeOut',\n        duration: 0\n      };\n    }\n\n    return React.createElement(Box, {\n      fill: fill,\n      overflow: \"hidden\"\n    }, React.createElement(Box, {\n      fill: fill,\n      animation: animation\n    }, child));\n  });\n  var NextIcon = theme.carousel.icons.next;\n  var PreviousIcon = theme.carousel.icons.previous;\n  var nextIconDisabled = activeIndex >= lastIndex;\n  var previousIconDisabled = activeIndex <= 0;\n  return React.createElement(Keyboard, {\n    onLeft: onLeft,\n    onRight: onRight\n  }, React.createElement(Stack, _extends({\n    guidingChild: activeIndex,\n    fill: fill\n  }, rest), wrappedChildren, React.createElement(Box, {\n    tabIndex: \"0\",\n    focus: focus,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (_onBlur) _onBlur(event);\n    },\n    fill: true,\n    direction: \"row\",\n    justify: \"between\"\n  }, showArrows && React.createElement(Button, {\n    fill: \"vertical\",\n    icon: React.createElement(PreviousIcon, {\n      color: normalizeColor(previousIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: previousIconDisabled,\n    onClick: onLeft,\n    hoverIndicator: true\n  }), showSelectors && React.createElement(Box, {\n    justify: \"end\",\n    fill: !showArrows && 'horizontal'\n  }, React.createElement(Box, {\n    direction: \"row\",\n    justify: \"center\"\n  }, selectors)), showArrows && React.createElement(Button, {\n    fill: \"vertical\",\n    icon: React.createElement(NextIcon, {\n      color: normalizeColor(nextIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: nextIconDisabled,\n    onClick: onRight,\n    hoverIndicator: true\n  }))));\n};\n\nCarousel.defaultProps = {\n  initialChild: 0,\n  controls: true\n};\nObject.setPrototypeOf(Carousel.defaultProps, defaultProps);\nCarousel.displayName = 'Carousel';\nvar CarouselDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CarouselDoc = require('./doc').doc(Carousel);\n}\n\nvar CarouselWrapper = CarouselDoc || Carousel;\nexport { CarouselWrapper as Carousel };"]},"metadata":{},"sourceType":"module"}