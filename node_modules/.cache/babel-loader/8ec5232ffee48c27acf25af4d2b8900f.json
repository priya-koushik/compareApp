{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { compose } from 'recompose';\nimport styled, { withTheme } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nvar ResizerBox = styled(Box).withConfig({\n  displayName: \"Resizer__ResizerBox\",\n  componentId: \"sc-8l808w-0\"\n})([\"cursor:col-resize;\"]);\n\nvar Resizer = function Resizer(_ref) {\n  var onResize = _ref.onResize,\n      property = _ref.property,\n      theme = _ref.theme;\n\n  var _useState = useState(false),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var _useState2 = useState(),\n      start = _useState2[0],\n      setStart = _useState2[1];\n\n  var _useState3 = useState(),\n      width = _useState3[0],\n      setWidth = _useState3[1];\n\n  var ref = useRef();\n  var onMouseDown = useCallback(function (event) {\n    if (ref.current) {\n      var element = ref.current; // find TH parent\n\n      while (element && element.nodeName !== 'TH') {\n        element = element.parentNode;\n      }\n\n      var rect = element.getBoundingClientRect();\n      setStart(event.clientX);\n      setWidth(rect.width);\n      setActive(true);\n    }\n  }, []);\n  var onMouseMove = useCallback(function (event) {\n    // We determined 12 empirically as being wide enough to hit but\n    // not too wide to cause false hits.\n    var nextWidth = Math.max(12, width + (event.clientX - start));\n    onResize(property, nextWidth);\n  }, [onResize, property, start, width]);\n  var onMouseUp = useCallback(function () {\n    setActive(false);\n    setStart(undefined);\n    setWidth(undefined);\n  }, []);\n  useEffect(function () {\n    var remove = function remove() {\n      document.removeEventListener('mouseup', onMouseUp);\n      document.removeEventListener('mousemove', onMouseMove);\n    };\n\n    if (active) {\n      document.addEventListener('mouseup', onMouseUp);\n      document.addEventListener('mousemove', onMouseMove);\n      return remove;\n    }\n\n    remove();\n    return undefined;\n  }, [active, onMouseMove, onMouseUp]);\n  return React.createElement(ResizerBox, _extends({\n    ref: ref,\n    flex: false,\n    responsive: false,\n    pad: {\n      vertical: 'small'\n    }\n  }, theme.dataTable.resize, {\n    onMouseDown: onMouseDown,\n    onMouseMove: start !== undefined ? onMouseMove : undefined,\n    onMouseUp: start !== undefined ? onMouseUp : undefined\n  }));\n};\n\nResizer.defaultProps = {};\nObject.setPrototypeOf(Resizer.defaultProps, defaultProps);\nvar ResizerWrapper = compose(withTheme)(Resizer);\nexport { ResizerWrapper as Resizer };","map":{"version":3,"sources":["C:/compare-app/node_modules/grommet/es6/components/DataTable/Resizer.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useCallback","useEffect","useRef","useState","compose","styled","withTheme","defaultProps","Box","ResizerBox","withConfig","displayName","componentId","Resizer","_ref","onResize","property","theme","_useState","active","setActive","_useState2","start","setStart","_useState3","width","setWidth","ref","onMouseDown","event","current","element","nodeName","parentNode","rect","getBoundingClientRect","clientX","onMouseMove","nextWidth","Math","max","onMouseUp","undefined","remove","document","removeEventListener","addEventListener","createElement","flex","responsive","pad","vertical","dataTable","resize","setPrototypeOf","ResizerWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { compose } from 'recompose';\nimport styled, { withTheme } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nvar ResizerBox = styled(Box).withConfig({\n  displayName: \"Resizer__ResizerBox\",\n  componentId: \"sc-8l808w-0\"\n})([\"cursor:col-resize;\"]);\n\nvar Resizer = function Resizer(_ref) {\n  var onResize = _ref.onResize,\n      property = _ref.property,\n      theme = _ref.theme;\n\n  var _useState = useState(false),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var _useState2 = useState(),\n      start = _useState2[0],\n      setStart = _useState2[1];\n\n  var _useState3 = useState(),\n      width = _useState3[0],\n      setWidth = _useState3[1];\n\n  var ref = useRef();\n  var onMouseDown = useCallback(function (event) {\n    if (ref.current) {\n      var element = ref.current; // find TH parent\n\n      while (element && element.nodeName !== 'TH') {\n        element = element.parentNode;\n      }\n\n      var rect = element.getBoundingClientRect();\n      setStart(event.clientX);\n      setWidth(rect.width);\n      setActive(true);\n    }\n  }, []);\n  var onMouseMove = useCallback(function (event) {\n    // We determined 12 empirically as being wide enough to hit but\n    // not too wide to cause false hits.\n    var nextWidth = Math.max(12, width + (event.clientX - start));\n    onResize(property, nextWidth);\n  }, [onResize, property, start, width]);\n  var onMouseUp = useCallback(function () {\n    setActive(false);\n    setStart(undefined);\n    setWidth(undefined);\n  }, []);\n  useEffect(function () {\n    var remove = function remove() {\n      document.removeEventListener('mouseup', onMouseUp);\n      document.removeEventListener('mousemove', onMouseMove);\n    };\n\n    if (active) {\n      document.addEventListener('mouseup', onMouseUp);\n      document.addEventListener('mousemove', onMouseMove);\n      return remove;\n    }\n\n    remove();\n    return undefined;\n  }, [active, onMouseMove, onMouseUp]);\n  return React.createElement(ResizerBox, _extends({\n    ref: ref,\n    flex: false,\n    responsive: false,\n    pad: {\n      vertical: 'small'\n    }\n  }, theme.dataTable.resize, {\n    onMouseDown: onMouseDown,\n    onMouseMove: start !== undefined ? onMouseMove : undefined,\n    onMouseUp: start !== undefined ? onMouseUp : undefined\n  }));\n};\n\nResizer.defaultProps = {};\nObject.setPrototypeOf(Resizer.defaultProps, defaultProps);\nvar ResizerWrapper = compose(withTheme)(Resizer);\nexport { ResizerWrapper as Resizer };"]},"metadata":{},"sourceType":"module"}